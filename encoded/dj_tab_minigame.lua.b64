LS0gZGpfdGFiX21pbmlnYW1lLmx1YQotLSBGb3JnZSBNaW5pZ2FtZSBTa2lwIFN5c3RlbQoKcmV0dXJuIGZ1bmN0aW9uKFdpbmRvdywgUmF5ZmllbGQsIFV0aWxzKQogICBsb2NhbCBNaW5pZ2FtZVRhYiA9IFdpbmRvdzpDcmVhdGVUYWIoIuKaku+4jyBNaW5pZ2FtZSIsIG5pbCkKICAgCiAgIE1pbmlnYW1lVGFiOkNyZWF0ZVNlY3Rpb24oIuKaku+4jyBGb3JnZSBNaW5pZ2FtZSBTa2lwIikKICAgCiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgIC0tIFNUQVRFCiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgIGxvY2FsIHNraXBFbmFibGVkID0gZmFsc2UKICAgbG9jYWwgaXNQcm9jZXNzaW5nID0gZmFsc2UKICAgbG9jYWwgbGFzdE1lbHREYXRhID0gbmlsCiAgIAogICBwcmludCgiW01JTklHQU1FXSDwn5SNIEluaXRpYWxpemluZyBNaW5pZ2FtZSBTa2lwIFN5c3RlbS4uLiIpCiAgIAogICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAtLSBGT1JHRSBTRVJWSUNFIFJFRkVSRU5DRQogICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICBsb2NhbCBSZXBsaWNhdGVkU3RvcmFnZSA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKQogICBwcmludCgiW01JTklHQU1FXSDinIUgUmVwbGljYXRlZFN0b3JhZ2UgZm91bmQiKQogICAKICAgbG9jYWwgc3VjY2VzcywgRm9yZ2VTZXJ2aWNlID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICByZXR1cm4gUmVwbGljYXRlZFN0b3JhZ2UKICAgICAgICAgOldhaXRGb3JDaGlsZCgiU2hhcmVkIiwgNSkKICAgICAgICAgOldhaXRGb3JDaGlsZCgiUGFja2FnZXMiLCA1KQogICAgICAgICA6V2FpdEZvckNoaWxkKCJLbml0IiwgNSkKICAgICAgICAgOldhaXRGb3JDaGlsZCgiU2VydmljZXMiLCA1KQogICAgICAgICA6V2FpdEZvckNoaWxkKCJGb3JnZVNlcnZpY2UiLCA1KQogICBlbmQpCiAgIAogICBpZiBub3Qgc3VjY2VzcyBvciBub3QgRm9yZ2VTZXJ2aWNlIHRoZW4KICAgICAgd2FybigiW01JTklHQU1FXSDinYwgRmFpbGVkIHRvIGZpbmQgRm9yZ2VTZXJ2aWNlISIpCiAgICAgIHdhcm4oIltNSU5JR0FNRV0gUGF0aDogUmVwbGljYXRlZFN0b3JhZ2UgPiBTaGFyZWQgPiBQYWNrYWdlcyA+IEtuaXQgPiBTZXJ2aWNlcyA+IEZvcmdlU2VydmljZSIpCiAgICAgIAogICAgICBNaW5pZ2FtZVRhYjpDcmVhdGVQYXJhZ3JhcGgoewoJICAgICBUaXRsZSA9ICLinYwgRXJyb3IiLAogICAgICAgICBDb250ZW50ID0gIkZhaWxlZCB0byBpbml0aWFsaXplISBGb3JnZVNlcnZpY2Ugbm90IGZvdW5kLlxuXG5DaGVjayBGOSBjb25zb2xlIGZvciBkZXRhaWxzLiIKICAgICAgfSkKICAgICAgcmV0dXJuCiAgIGVuZAogICAKICAgcHJpbnQoIltNSU5JR0FNRV0g4pyFIEZvcmdlU2VydmljZSBmb3VuZCIpCiAgIAogICBsb2NhbCBzdWNjZXNzUkYsIENoYW5nZVNlcXVlbmNlUkYgPSBwY2FsbChmdW5jdGlvbigpCiAgICAgIHJldHVybiBGb3JnZVNlcnZpY2UKICAgICAgICAgOldhaXRGb3JDaGlsZCgiUkYiLCA1KQogICAgICAgICA6V2FpdEZvckNoaWxkKCJDaGFuZ2VTZXF1ZW5jZSIsIDUpCiAgIGVuZCkKICAgCiAgIGlmIG5vdCBzdWNjZXNzUkYgb3Igbm90IENoYW5nZVNlcXVlbmNlUkYgdGhlbgogICAgICB3YXJuKCJbTUlOSUdBTUVdIOKdjCBGYWlsZWQgdG8gZmluZCBDaGFuZ2VTZXF1ZW5jZSBSZW1vdGVGdW5jdGlvbiEiKQogICAgICB3YXJuKCJbTUlOSUdBTUVdIFBhdGg6IEZvcmdlU2VydmljZSA+IFJGID4gQ2hhbmdlU2VxdWVuY2UiKQogICAgICAKICAgICAgTWluaWdhbWVUYWI6Q3JlYXRlUGFyYWdyYXBoKHsKCSAgICAgVGl0bGUgPSAi4p2MIEV6cm9yIiwKICAgICAgICAgQ29udGVudCA9ICJGYWlsZWQgdG8gaW5pdGlhbGl6ZSEgQ2hhbmdlU2VxdWVuY2UgUkYgbm90IGZvdW5kLlxuXG5DaGVjayBGOSBjb25zb2xlIGZvciBkZXRhaWxzLiIKICAgICAgfSkKICAgICAgcmV0dXJuCiAgIGVuZAogICAKICAgcHJpbnQoIltNSU5JR0FNRV0g4pyFIENoYW5nZVNlcXVlbmNlIFJlbW90ZUZ1bmN0aW9uIGZvdW5kIikKICAgcHJpbnQoIltNSU5JR0FNRVkg8J+Ul0Z1bGwgcGF0aDogUmVwbGljYXRlZFN0b3JhZ2UuU2hhcmVkLlBhY2thZ2VzLktuaXQuU2VydmljZXMuRm9yZ2VTZXJ2aWNlLlJGLkNoYW5nZVNlcXVlbmNlIikKICAgCiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgIC0tIEhFTFBFUjogRVhFQ1VURSBTRVFVRU5DRSBTVEVQCiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgIGxvY2FsIGZ1bmN0aW9uIGV4ZWN1dGVTdGVwKHN0ZXBOYW1lLCBhcmdzKQogICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIPCfmoAgRXhlY3V0aW5nOiIsIHN0ZXBOYW1lKQogICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIPCfk50gQXJnczoiLCBnYW1lOkdldFNlcnZpY2UoIkh0dHBTZXJ2aWNlIik6SlNPTkVuY29kZShhcmdzKSkKICAgICAgCiAgICAgIGxvY2FsIHN1Y2Nlc3MsIHJlc3VsdCA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgcmV0dXJuIENoYW5nZVNlcXVlbmNlUkY6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKICAgICAgZW5kKQogICAgICAKICAgICAgaWYgc3VjY2VzcyB0aGVuCiAgICAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0g4pyFIiwgc3RlcE5hbWUsICJTVUNDRVNTIikKICAgICAgICAgcHJpbnQoIltNSU5JR0FNRSBTS0lQXSDwn5OKIFJlc3VsdDoiLCB0b3N0cmluZyhyZXN1bHQpKQogICAgICAgICByZXR1cm4gdHJ1ZQogICAgICBlbHNlCiAgICAgICAgIHdhcm4oIltNSU5JR0FNRSBTS0lQXSDinYwiLCBzdGVwTmFtZSwgIkZBSUxFRCIpCiAgICAgICAgIHdhcm4oIltNSU5JR0FNRSBTS0lQXSDimqDvuI8gRXJyb3I6IiwgdG9zdHJpbmcocmVzdWx0KSkKICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIGVuZAogICBlbmQKICAgCiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgIC0tIEhFTFBFUjogR0VUIENVUlJFTlQgQ0xJRU5UIFRJTUUKICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgbG9jYWwgZnVuY3Rpb24gZ2V0Q2xpZW50VGltZSgpCiAgICAgIGxvY2FsIHRpbWUgPSB0aWNrKCkKICAgICAgcHJpbnQoIltNSU5JR0FNRSBTS0lQXSDigLDvuI8gQ2xpZW50VGltZSBnZW5lcmF0ZWQ6IiwgdGltZSkKICAgICAgcmV0dXJuIHRpbWUKICAgZW5kCiAgIAogICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAtLSBNQUlOOiBBVVRPIFNFUVVFTkNFIEFGVEVSIE1FTFQKICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgbG9jYWwgZnVuY3Rpb24gZXhlY3V0ZUF1dG9TZXF1ZW5jZShtZWx0RGF0YSkKICAgICAgaWYgaXNQcm9jZXNzaW5nIHRoZW4KICAgICAgICAgd2FybigiW01JTklHQU1FIFNLSVBdIOKaoO+4jyBBbHJlYWR5IHByb2Nlc3NpbmcsIHNraXBwaW5nLi4uIikKICAgICAgICAgcmV0dXJuCiAgICAgIGVuZAogICAgICAKICAgICAgaXNQcm9jZXNzaW5nID0gdHJ1ZQogICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIPCfkqUgU1RBUlRJTkcgQVVUTyBTRVFVRU5DRSIpCiAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0g8J+TiiBNZWx0IERhdGE6IiwgZ2FtZTpHZXRTZXJ2aWNlKCJIdHRwU2VydmljZSIpOkpTT05FbmNvZGUobWVsdERhdGEpKQogICAgICAKICAgICAgdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICAgICAgIC0tIFNURVAgMTogUE9VUiAoMS41cyBhZnRlciBNZWx0KQogICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIOKPsyBXYWl0aW5nIDEuNXMgYmVmb3JlIFBvdXIuLi4iKQogICAgICAgICB3YWl0KDEuNSkKICAgICAgICAgcHJpbnQoIltNSU5JR0FNRSBTS0lQXSDwn4qnID09PSBQT1VSIFNURVBBID09PSIpCiAgICAgICAgIAogICAgICAgICBsb2NhbCBwb3VyQXJncyA9IHsKICAgICAgICAgICAgIlBvdXIiLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgIENsaWVudFRpbWUgPSBnZXRDbGllbnRUaW1lKCkKICAgICAgICAgICAgfQogICAgICAgICB9CiAgICAgICAgIGxvY2FsIHBvdXJTdWNjZXNzID0gZXhlY3V0ZVN0ZXAoIlBvdXIiLCBwb3VyQXJncykKICAgICAgICAgCiAgICAgICAgIGlmIHBvdXJTdWNjZXNzIHRoZW4KICAgICAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgICAgVGl0bGUgPSAiTWluaWdhbWUgU2tpcCIsCiAgICAgICAgICAgICAgIENvbnRlbnQgPSAi4pyFIFBvdXIgY29tcGxldGUiLAogICAgICAgICAgICAgICBEdXJhdGlvbiA9IDEKIC<â€¦>AgICAgfQogICAgICAgICkKICAgICAgIGVsc2UKICAgICAgICAgIHdhcm4oIltNSU5JR0FNRSBTS0lQXSDimqDvuI8gUG91ciBmYWlsZWQsIGNvbnRpbnVpbmcgYW55d2F5Li4uIikKICAgICAgICAgZW5kCiAgICAgICAgIAogICAgICAgICAtLSBTVEVQIDI6IEhBTU1FUiAoMS41cyBhZnRlciBQb3VyKQogICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIOKPsyBXYWl0aW5nIDEuNXMgYmVmb3JlIEhhbW1lci4uLiIpCiAgICAgICAgIHdhaXQoMS41KQogICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIPCfkqggPT09IEhBTU1FUiBTVEVQID09PSIpCiAgICAgICAgIAogICAgICAgICBsb2NhbCBoYW1tZXJBcmdzID0gewogICAgICAgICAgICAiSGFtbWVyIiwKICAgICAgICAgICAgewogICAgICAgICAgICAgICBDbGllbnRUaW1lID0gZ2V0Q2xpZW50VGltZSgpCiAgICAgICAgICAgIH0KICAgICAgICAgfQogICAgICAgICBsb2NhbCBoYW1tZXJTdWNjZXNzID0gZXhlY3V0ZVN0ZXAoIkhhbW1lciIsIGhhbW1lckFyZ3MpCiAgICAgICAgIAogICAgICAgICBpZiBoYW1tZXJTdWNjZXNzIHRoZW4KICAgICAgICAgICAgUmF5ZmllbGQ6Tm90aWZ5KHsKICAgICAgICAgICAgICAgVGl0bGUgPSAiTWluaWdhbWUgU2tpcCIsCiAgICAgICAgICAgICAgIENvbnRlbnQgPSAi4pyFIEhhbW1lciBjb21wbGV0ZSIsCiAgICAgICAgICAgICAgIER1cmF0aW9uID0gMQogICAgICAgICAgICB9KQogICAgICAgICBlbHNlCiAgICAgICAgICAgIHdhcm4oIltNSU5JR0FNRSBTS0lQXSDimqDvuI8gSGFtbWVyIGZhaWxlZCwgY29udGludWluZyBhbnl3YXkuLi4iKQogICAgICAgICBlbmQKICAgICAgICAgCiAgICAgICAgIC0tIFNURVAgMzogV0FURVIgKDEuNXMgYWZ0ZXIgSGFtbWVyKQogICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIOKPsyBXYWl0aW5nIDEuNXMgYmVmb3JlIFdhdGVyLi4uIikKICAgICAgICAgd2FpdCgxLjUpCiAgICAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0g8J+SpiA9PT0gV0FURVIgU1RFUCA9PT0iKQogICAgICAgICAKICAgICAgICAgbG9jYWwgd2F0ZXJBcmdzID0gewogICAgICAgICAgICAiV2F0ZXIiLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgIENsaWVudFRpbWUgPSBnZXRDbGllbnRUaW1lKCkKICAgICAgICAgICAgfQogICAgICAgICB9CiAgICAgICAgIGxvY2FsIHdhdGVyU3VjY2VzcyA9IGV4ZWN1dGVTdGVwKCJXYXRlciIsIHdhdGVyQXJncykKICAgICAgICAgCiAgICAgICAgIGlmIHdhdGVyU3VjY2VzcyB0aGVuCiAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgIFRpdGxlID0gIk1pbmlnYW1lIFNraXAiLAogICAgICAgICAgICAgICBDb250ZW50ID0gIuKchSBXYXRlciBjb21wbGV0ZSAtIEZvcmdlIGZpbmlzaGVkISIsCiAgICAgICAgICAgICAgIER1cmF0aW9uID0gMgogICAgICAgICAgICB9KQogICAgICAgICBlbHNlCiAgICAgICAgICAgIHdhcm4oIltNSU5JR0FNRSBTS0lQXSDimqDvuI8gV2F0ZXIgZmFpbGVkISIpCiAgICAgICAgIGVuZAogICAgICAgICAKICAgICAgICAgcHJpbnQoIltNSU5JR0FNRSBTS0lQXSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKICAgICAgICAgcHJpbnQoIltNSU5JR0FNRSBTS0lQXSDinIUgQVVUTyBTRVFVRU5DRSBDT01QTEVURSIpCiAgICAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICAgICAgIGlzUHJvY2Vzc2luZyA9IGZhbHNlCiAgICAgIGVuZCkKICAgZW5kCiAgIAogICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAtLSBIT09LOiBERVRFQ1QgTUVMVCBDQUxMUwogICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICBwcmludCgiW01JTklHQU1FXSDwn5SXIFNldHRpbmcgdXAgaG9vayBmb3IgTWVsdCBkZXRlY3Rpb24uLi4iKQogICAKICAgbG9jYWwgaG9va1N1Y2Nlc3MsIGhvb2tFcnJvciA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgbG9jYWwgb3JpZ2luYWxOYW1lY2FsbAogICAgICBvcmlnaW5hbE5hbWVjYWxsID0gaG9va21ldGFtZXRob2QoZ2FtZSwgIl9fbmFtZWNhbGwiLCBmdW5jdGlvbihzZWxmLCAuLi4pCiAgICAgICAgIGxvY2FsIG1ldGhvZCA9IGdldG5hbWVjYWxsbWV0aG9kKCkKICAgICAgICAgbG9jYWwgYXJncyA9IHsuLi59CiAgICAgICAgIAogICAgICAgICAtLSBEZXRlY3QgSW52b2tlU2VydmVyIG9uIENoYW5nZVNlcXVlbmNlIHdpdGggIk1lbHQiIGFzIGZpcnN0IGFyZwogICAgICAgICBpZiBtZXRob2QgPT0gIkludm9rZVNlcnZlciIgYW5kIHNlbGYgPT0gQ2hhbmdlU2VxdWVuY2VSRiB0aGVuCiAgICAgICAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0g8J+UjSBDaGFuZ2VTZXF1ZW5jZTpJbnZva2VTZXJ2ZXIgZGV0ZWN0ZWQiKQogICAgICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIPCfk50gRmlyc3QgYXJnOiIsIHRvc3RyaW5nKGFyZ3NbMV0pKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgYXJnc1sxXSA9PSAiTWVsdCIgdGhlbgogICAgICAgICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIPCfkqXwn5SlIPCfkqUgTUVMVCBDQUxMIERFVEVDVEVEISDwn5Kl8J+Rpe+4jyDwn5Kl8J+Rpe+4jyIpCiAgICAgICAgICAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0g8J+RgCBza2lwRW5hYmxlZDoiLCB0b3N0cmluZyhza2lwRW5hYmxlZCkpCiAgICAgICAgICAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0g8J+RgCBpc1Byb2Nlc3Npbmc6IiwgdG9zdHJpbmcoaXNQcm9jZXNzaW5nKSkKICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgIGlmIHNraXBFbmFibGVkIGFuZCBub3QgaXNQcm9jZXNzaW5nIHRoZW4KICAgICAgICAgICAgICAgICAgLS0gRXh0cmFjdCBNZWx0IGRhdGEKICAgICAgICAgICAgICAgICAgbG9jYWwgbWVsdERhdGEgPSBhcmdzWzJdIG9yIHt9CiAgICAgICAgICAgICAgICAgIGxhc3RNZWx0RGF0YSA9IG1lbHREYXRhCiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIPCfk4ogSXRlbVR5cGU6IiwgbWVsdERhdGEuSXRlbVR5cGUgb3IgIlVua25vd24iKQogICAgICAgICAgICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIPCfk4ogRmFzdEZvcmdlOiIsIHRvc3RyaW5nKG1lbHREYXRhLkZhc3RGb3JnZSkpCiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICBpZiBtZWx0RGF0YS5PcmVzIHRoZW4KICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIltNSU5JR0FNRSBTS0lQXSDwn5OKIe+4jyBPcmVzOiIpCiAgICAgICAgICAgICAgICAgICAgIGZvciBvcmUsIGFtb3VudCBpbiBwYWlycyhtZWx0RGF0YS5PcmVzKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdICAgLSIsIG9yZSwgIngiLCBhbW91bnQpCiAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgIHdhcm4oIltNSU5JR0FNRSBTS0lQXSDimqDvuI8gTm8gT3JlcyBmb3VuZCBpbiBtZWx0RGF0YSEiKQogICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAgIFRpdGxlID0gIk1pbmlnYW1lIFNraXAiLAogICAgICAgICAgICAgICAgICAgICBDb250ZW50ID0gIvCfkqUgTWVsdCBkZXRlY3RlZCEgU3RhcnRpbmcgYXV0by1zZXF1ZW5jZS4uLiIsCiAgICAgICAgICAgICAgICAgICAgIER1cmF0aW9uID0gMgogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgLS0gU3RhcnQgYXV0byBzZXF1ZW5jZQogICAgICAgICAgICAgICAgICBleGVjdXRlQXV0b1NlcXVlbmNlKG1lbHREYXRhKQogICAgICAgICAgICAgICBlbHNlaWYgbm90IHNraXBFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgcHJpbnQoIltNSU5JR0FNRSBTS0lQXSDimqDvuI8gU2tpcCBub3QgZW5hYmxlZCwgaWdub3JpbmcgTWVsdCIpCiAgICAgICAgICAgICAgIGVsc2VpZiBpc1Byb2Nlc3NpbmcgdGhlbgogICAgICAgICAgICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIOKaoO+4jyBBbHJlYWR5IHByb2Nlc3NpbmcsIGlnbm9yaW5nIE1lbHQiKQogICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgIGVuZAogICAgICAgICAKICAgICAgICAgcmV0dXJuIG9yaWdpbmFsTmFtZWNhbGwoc2VsZiwgLi4uKQogICAgICBlbmQpCiAgIGVuZCkKICAgCiAgIGlmIG5vdCBob29rU3VjY2VzcyB0aGVuCiAgICAgIHdhcm4oIltNSU5JR0FNRV0g4p2MIEZhaWxlZCB0byBzZXR1cCBob29rISIpCiAgICAgIHdhcm4oIltNSU5JR0FNRVkg4pqg77iPIEVycm9yOiIsIHRvc3RyaW5nKGhvb2tFcnJvcikpCiAgICAgIHdhcm4oIltNSU5JR0FNRV0g8J+RiSBZb3VyIGV4ZWN1dG9yIG1pZ2h0IG5vdCBzdXBwb3J0IGhvb2ttZXRhbWV0aG9kIikKICAgICAgCiAgICAgIE1pbmlnYW1lVGFiOkNyZWF0ZVBhcmFncmFwaCh7CgkgICAgIFRpdGxlID0gIuKdjCBIb29rIEZhaWxlZCIsCiAgICAgICAgIENvbnRlbnQgPSAiRmFpbGVkIHRvIHNldHVwIE1lbHQgZGV0ZWN0aW9uIGhvb2shXG5cblvhu1VvdXIgZXhlY3V0b3IgbWlnaHQgbm90IHN1cHBvcnQgaG9va21ldGFtZXRob2QuXG5cbkNoZWNrIEY5IGNvbnNvbGUgZm9yIGRldGFpbHMuIgogICAgICB9KQogICAgICByZXR1cm4KICAgZW5kCiAgIAogICBwcmludCgiW01JTklHQU1FXSDinIUgSG9vayBzdWNjZXNzZnVsbHkgaW5zdGFsbGVkIikKICAgCiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgIC0tIFVJOiBUT0dHTEUKICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgTWluaWdhbWVUYWI6Q3JlYXRlVG9nZ2xlKHsKICAgICAgTmFtZSA9ICLimrLvuI8gU2tpcCAyLzMgb2YgRm9yZ2UgTWluaWdhbWUiLAogICAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwKICAgICAgRmxhZyA9ICJNaW5pZ2FtZVNraXBFbmFibGVkIiwKICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICAgc2tpcEVuYWJsZWQgPSB2YWx1ZQogICAgICAgICAKICAgICAgICAgaWYgdmFsdWUgdGhlbgogICAgICAgICAgICBSYXlmaWVsZDpOb3RpZnkoewogICAgICAgICAgICAgICBUaXRsZSA9ICJNaW5pZ2FtZSBTa2lwIiwKICAgICAgICAgICAgICAgQ29udGVudCA9ICLinIUgRW5hYmxlZCAtIFdpbGwgYXV0by1jb21wbGV0ZSBhZnRlciBNZWx0IiwKICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICAgICAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0g4pyFIEVOQUJMRUQiKQogICAgICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgICAgICBlbHNlCiAgICAgICAgICAgIFJheWZpZWxkOk5vdGlmeSh7CiAgICAgICAgICAgICAgIFRpdGxlID0gIk1pbmlnYW1lIFNraXAiLAogICAgICAgICAgICAgICBDb250ZW50ID0gIuKdjCBEaXNhYmxlZCIsCiAgICAgICAgICAgICAgIER1cmF0aW9uID0gMgogICAgICAgICAgICB9KQogICAgICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgICAgICAgICBwcmludCgiW01JTklHQU1FIFNLSVBdIOKdjCBESVNBQkxFRCIpCiAgICAgICAgICAgIHByaW50KCJbTUlOSUdBTUUgU0tJUF0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICAgICAgIGVuZAogICAgICBlbmQKICAgfSkKICAgCiAgIE1pbmlnYW1lVGFiOkNyZWF0ZVBhcmFncmFwaCh7CiAgICAgIFRpdGxlID0gIuKEue+4jyBIb3cgSXQgV29ya3MiLAogICAgICBDb250ZW50ID0gIjEuIEVuYWJsZSB0b2dnbGVcbjIuIFN0YXJ0IGFueSBmb3JnZSAoV2VhcG9uL0FybW9yL2V0YylcbjMuIENsaWNrICdNZWx0JyBpbiB0aGUgZm9yZ2VcbjQuIFNjcmlwdCBhdXRvLWNvbXBsZXRlcyBQb3VyIOKGkiBIYW1tZXIg4oaSIFdhdGVyXG5cbuKPseKsoO+4jyBFYWNoIHN0ZXA6IDEuNXMgZGVsYXlcbvCfkoBEZXRlY3RzIGFueSBJdGVtVHlwZSArIE9yZXMgYXV0b21hdGljYWxseVxuXG7wn5GAT3BlbiBGOSBjb25zb2xlIGZvciBkZXRhaWxlZCBkZWJ1ZyBsb2dzISIKICAgfSkKICAgCiAgIHByaW50KCJbTUlOSUdBTUVdID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICBwcmludCgiW01JTklHQU1FXSDinIUgVEFCIExPQURFRCBTVUNDRVNTRlVMTFkiKQogICBwcmludCgiW01JTklHQU1FXSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKICAgcHJpbnQoIltNSU5JR0FNRV0g8J+Tjee4jyBGb3JnZVNlcnZpY2U6IE9LIikKICAgcHJpbnQoIltNSU5JR0FNRV0g8J+Tjee4jyBDaGFuZ2VTZXF1ZW5jZSBSRjogT0siKQogICBwcmludCgiW01JTklHQU1FXSDwn5ON77iPIEhvb2s6IE9LIikKICAgcHJpbnQoIltNSU5JR0FNRV0g8J+RgCBXYWl0aW5nIGZvciBNZWx0IGNhbGxzLi4uIikKICAgcHJpbnQoIltNSU5JR0FNRVAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVuZAo=