-- dj_tab_minigame.lua
-- Forge Minigame Skip System

return function(Window, Rayfield, Utils)
   local MinigameTab = Window:CreateTab("⚒️ Minigame", nil)
   
   MinigameTab:CreateSection("⚒️ Forge Minigame Skip")
   
   ---------------------------------------------------------------------
   -- STATE
   ---------------------------------------------------------------------
   local skipEnabled = false
   local isProcessing = false
   local lastMeltData = nil
   
   print("[MINIGAME] 🔍 Initializing Minigame Skip System...")
   
   ---------------------------------------------------------------------
   -- FORGE SERVICE REFERENCE
   ---------------------------------------------------------------------
   local ReplicatedStorage = game:GetService("ReplicatedStorage")
   print("[MINIGAME] ✅ ReplicatedStorage found")
   
   local success, ForgeService = pcall(function()
      return ReplicatedStorage
         :WaitForChild("Shared", 5)
         :WaitForChild("Packages", 5)
         :WaitForChild("Knit", 5)
         :WaitForChild("Services", 5)
         :WaitForChild("ForgeService", 5)
   end)
   
   if not success or not ForgeService then
      warn("[MINIGAME] ❌ Failed to find ForgeService!")
      warn("[MINIGAME] Path: ReplicatedStorage > Shared > Packages > Knit > Services > ForgeService")
      
      MinigameTab:CreateParagraph({
         Title = "❌ Error",
         Content = "Failed to initialize! ForgeService not found.\n\nCheck F9 console for details."
      })
      return
   end
   
   print("[MINIGAME] ✅ ForgeService found")
   
   local successRF, ChangeSequenceRF = pcall(function()
      return ForgeService
         :WaitForChild("RF", 5)
         :WaitForChild("ChangeSequence", 5)
   end)
   
   if not successRF or not ChangeSequenceRF then
      warn("[MINIGAME] ❌ Failed to find ChangeSequence RemoteFunction!")
      warn("[MINIGAME] Path: ForgeService > RF > ChangeSequence")
      
      MinigameTab:CreateParagraph({
         Title = "❌ Error",
         Content = "Failed to initialize! ChangeSequence RF not found.\n\nCheck F9 console for details."
      })
      return
   end
   
   print("[MINIGAME] ✅ ChangeSequence RemoteFunction found")
   print("[MINIGAME] 🔗 Full path: ReplicatedStorage.Shared.Packages.Knit.Services.ForgeService.RF.ChangeSequence")
   
   ---------------------------------------------------------------------
   -- HELPER: EXECUTE SEQUENCE STEP
   ---------------------------------------------------------------------
   local function executeStep(stepName, args)
      print("[MINIGAME SKIP] 🚀 Executing:", stepName)
      print("[MINIGAME SKIP] 📝 Args:", game:GetService("HttpService"):JSONEncode(args))
      
      local success, result = pcall(function()
         return ChangeSequenceRF:InvokeServer(unpack(args))
      end)
      
      if success then
         print("[MINIGAME SKIP] ✅", stepName, "SUCCESS")
         print("[MINIGAME SKIP] 📊 Result:", tostring(result))
         return true
      else
         warn("[MINIGAME SKIP] ❌", stepName, "FAILED")
         warn("[MINIGAME SKIP] ⚠️ Error:", tostring(result))
         return false
      end
   end
   
   ---------------------------------------------------------------------
   -- HELPER: GET CURRENT CLIENT TIME
   ---------------------------------------------------------------------
   local function getClientTime()
      local time = tick()
      print("[MINIGAME SKIP] ⏰ ClientTime generated:", time)
      return time
   end
   
   ---------------------------------------------------------------------
   -- MAIN: AUTO SEQUENCE AFTER MELT
   ---------------------------------------------------------------------
   local function executeAutoSequence(meltData)
      if isProcessing then
         warn("[MINIGAME SKIP] ⚠️ Already processing, skipping...")
         return
      end
      
      isProcessing = true
      print("[MINIGAME SKIP] ===========================================")
      print("[MINIGAME SKIP] 🔥 STARTING AUTO SEQUENCE")
      print("[MINIGAME SKIP] ===========================================")
      print("[MINIGAME SKIP] 📊 Melt Data:", game:GetService("HttpService"):JSONEncode(meltData))
      
      task.spawn(function()
         -- STEP 1: POUR (4.5s after Melt - 3s game timer + 1.5s)
         print("[MINIGAME SKIP] ⏳ Waiting 4.5s before Pour (3s game timer + 1.5s)...")
         wait(4.5)
         print("[MINIGAME SKIP] 💧 === POUR STEP ===")
         
         local pourArgs = {
            "Pour",
            {
               ClientTime = getClientTime()
            }
         }
         local pourSuccess = executeStep("Pour", pourArgs)
         
         if pourSuccess then
            Rayfield:Notify({
               Title = "Minigame Skip",
               Content = "✅ Pour complete",
               Duration = 1
            })
         else
            warn("[MINIGAME SKIP] ⚠️ Pour failed, continuing anyway...")
         end
         
         -- STEP 2: HAMMER (4.5s after Pour - 3s game timer + 1.5s)
         print("[MINIGAME SKIP] ⏳ Waiting 4.5s before Hammer (3s game timer + 1.5s)...")
         wait(4.5)
         print("[MINIGAME SKIP] 🔨 === HAMMER STEP ===")
         
         local hammerArgs = {
            "Hammer",
            {
               ClientTime = getClientTime()
            }
         }
         local hammerSuccess = executeStep("Hammer", hammerArgs)
         
         if hammerSuccess then
            Rayfield:Notify({
               Title = "Minigame Skip",
               Content = "✅ Hammer complete - Forge finished!",
               Duration = 2
            })
         else
            warn("[MINIGAME SKIP] ⚠️ Hammer failed!")
         end
         
         print("[MINIGAME SKIP] ===========================================")
         print("[MINIGAME SKIP] ✅ AUTO SEQUENCE COMPLETE")
         print("[MINIGAME SKIP] ===========================================")
         isProcessing = false
      end)
   end
   
   ---------------------------------------------------------------------
   -- HOOK: DETECT MELT CALLS
   ---------------------------------------------------------------------
   print("[MINIGAME] 🔗 Setting up hook for Melt detection...")
   
   local hookSuccess, hookError = pcall(function()
      local originalNamecall
      originalNamecall = hookmetamethod(game, "__namecall", function(self, ...)
         local method = getnamecallmethod()
         local args = {...}
         
         -- Detect InvokeServer on ChangeSequence with "Melt" as first arg
         if method == "InvokeServer" and self == ChangeSequenceRF then
            print("[MINIGAME SKIP] 🔍 ChangeSequence:InvokeServer detected")
            print("[MINIGAME SKIP] 📝 First arg:", tostring(args[1]))
            
            if args[1] == "Melt" then
               print("[MINIGAME SKIP] 🔥🔥🔥 MELT CALL DETECTED! 🔥🔥🔥")
               print("[MINIGAME SKIP] 👀 skipEnabled:", tostring(skipEnabled))
               print("[MINIGAME SKIP] 👀 isProcessing:", tostring(isProcessing))
               
               if skipEnabled and not isProcessing then
                  -- Extract Melt data
                  local meltData = args[2] or {}
                  lastMeltData = meltData
                  
                  print("[MINIGAME SKIP] 📊 ItemType:", meltData.ItemType or "Unknown")
                  print("[MINIGAME SKIP] 📊 FastForge:", tostring(meltData.FastForge))
                  
                  if meltData.Ores then
                     print("[MINIGAME SKIP] 📊 Ores:")
                     for ore, amount in pairs(meltData.Ores) do
                        print("[MINIGAME SKIP]   -", ore, "x", amount)
                     end
                  else
                     warn("[MINIGAME SKIP] ⚠️ No Ores found in meltData!")
                  end
                  
                  Rayfield:Notify({
                     Title = "Minigame Skip",
                     Content = "🔥 Melt detected! Starting auto-sequence...",
                     Duration = 2
                  })
                  
                  -- Start auto sequence
                  executeAutoSequence(meltData)
               elseif not skipEnabled then
                  print("[MINIGAME SKIP] ⚠️ Skip not enabled, ignoring Melt")
               elseif isProcessing then
                  print("[MINIGAME SKIP] ⚠️ Already processing, ignoring Melt")
               end
            end
         end
         
         return originalNamecall(self, ...)
      end)
   end)
   
   if not hookSuccess then
      warn("[MINIGAME] ❌ Failed to setup hook!")
      warn("[MINIGAME] ⚠️ Error:", tostring(hookError))
      warn("[MINIGAME] 👉 Your executor might not support hookmetamethod")
      
      MinigameTab:CreateParagraph({
         Title = "❌ Hook Failed",
         Content = "Failed to setup Melt detection hook!\n\nYour executor might not support hookmetamethod.\n\nCheck F9 console for details."
      })
      return
   end
   
   print("[MINIGAME] ✅ Hook successfully installed")
   
   ---------------------------------------------------------------------
   -- UI: TOGGLE
   ---------------------------------------------------------------------
   MinigameTab:CreateToggle({
      Name = "⚒️ Skip 2/3 of Forge Minigame",
      CurrentValue = false,
      Flag = "MinigameSkipEnabled",
      Callback = function(value)
         skipEnabled = value
         
         if value then
            Rayfield:Notify({
               Title = "Minigame Skip",
               Content = "✅ Enabled - Will auto-complete after Melt",
               Duration = 3
            })
            print("[MINIGAME SKIP] ===========================================")
            print("[MINIGAME SKIP] ✅ ENABLED")
            print("[MINIGAME SKIP] ===========================================")
         else
            Rayfield:Notify({
               Title = "Minigame Skip",
               Content = "❌ Disabled",
               Duration = 2
            })
            print("[MINIGAME SKIP] ===========================================")
            print("[MINIGAME SKIP] ❌ DISABLED")
            print("[MINIGAME SKIP] ===========================================")
         end
      end
   })
   
   MinigameTab:CreateParagraph({
      Title = "ℹ️ How It Works",
      Content = "1. Enable toggle\n2. Start any forge (Weapon/Armor/etc)\n3. Click 'Melt' in the forge\n4. Script auto-completes Pour → Hammer\n\n⏱️ Timing: 4.5s → Pour → 4.5s → Hammer\n🔄 Detects any ItemType + Ores automatically\n\n👁️ Open F9 console for detailed debug logs!"
   })
   
   print("[MINIGAME] ===========================================")
   print("[MINIGAME] ✅ TAB LOADED SUCCESSFULLY")
   print("[MINIGAME] ===========================================")
   print("[MINIGAME] 📍 ForgeService: OK")
   print("[MINIGAME] 📍 ChangeSequence RF: OK")
   print("[MINIGAME] 📍 Hook: OK")
   print("[MINIGAME] 👀 Waiting for Melt calls...")
   print("[MINIGAME] ===========================================")
end